{
  "lessons": [
    {
      "id": 1,
      "situation": "jq not available on GitHub Actions runners",
      "learning": "Use Python for JSON parsing in shell scripts for cross-platform compatibility",
      "date": "2026-02-05T13:20:34.898727"
    },
    {
      "id": 2,
      "situation": "Pushed directly to main despite iron law #1",
      "learning": "Documentation alone doesn't enforce rules. Mechanical enforcement (git hooks, MCP checks) is required. Added pre-push hook after this incident.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 3,
      "situation": "Sprint tooling (sprint.sh) was never used during Phase 54 and 55",
      "learning": "Opt-in tools get forgotten under time pressure. Add SessionStart hooks to remind about sprint tracking at the start of every session.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 4,
      "situation": "STATE.md was 27+ hours stale when checked",
      "learning": "Session-end tasks (STATE.md update, compound extract) need Stop hooks to remind the agent. Without reminders, wrap-up tasks are always skipped.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 5,
      "situation": "Light mode had 1,753+ hardcoded dark colors, completely broken",
      "learning": "When a fix requires touching hundreds of files, it's better to disable the broken feature with a clear 'Coming Soon' label than attempt a massive migration mid-sprint.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 6,
      "situation": "CSRF headers missing in 28 client files causing silent API failures",
      "learning": "When adding a cross-cutting concern (CSRF, auth), audit ALL existing files immediately rather than assuming new files will follow the pattern.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 7,
      "situation": "Context window ran out mid-session during Phase 55",
      "learning": "Use /strategic-compact at ~75% context. Checkpoint sprint state before compaction. Session burned out because compaction wasn't proactive.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 8,
      "situation": "Sprint estimates consistently overestimate by 50%",
      "learning": "Multiply sprint estimates by 0.5 for realistic time. Phase 53.1: estimated 3-4h, actual 1.5h. Account for this in planning.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 9,
      "situation": "Iron laws existed in code (iron-laws.ts) but checkIronLaws() was never called",
      "learning": "Dead code with good intentions is still dead code. Wire enforcement into actual execution paths (MCP tools, hooks) or it provides zero value.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 10,
      "situation": "Announcement card practice link was broken (wrong URL pattern)",
      "learning": "When refactoring components, test all link/navigation paths. Broken internal links are invisible until a user clicks them.",
      "date": "2026-02-06T19:30:00.000000"
    },
    {
      "id": 11,
      "situation": "Eval-opt briefing tool returned empty content with 0/10 score and $0 cost — API errors swallowed silently",
      "learning": "Never catch-and-break without surfacing the error. Collect errors in the result object and include them in tool responses. Silent failures are the hardest bugs to diagnose.",
      "date": "2026-02-09T15:45:00.000000"
    },
    {
      "id": 12,
      "situation": "MCP server loaded stale dist/ artifacts from pre-MCP era, causing octokit import error",
      "learning": "After major refactors that delete source files, always clean dist/ before rebuilding. Old compiled artifacts persist even when source is deleted. Add 'prebuild: rm -rf dist' to package.json scripts.",
      "date": "2026-02-09T15:40:00.000000"
    },
    {
      "id": 13,
      "situation": "MCP server's dotenv loaded .env based on CWD which may differ in subprocess context",
      "learning": "Always use explicit __dirname-relative paths for config file loading in MCP servers. Never rely on process.cwd() in a subprocess — the parent process controls the working directory.",
      "date": "2026-02-09T15:45:00.000000"
    },
    {
      "id": 14,
      "situation": "Agent team parallel review completed successfully on first try",
      "learning": "Agent teams work well for parallel read-only analysis (code review, security review, architecture review). Use Sonnet, run_in_background=true, and fix issues while reviewers work. Keep to 1 focused task per teammate.",
      "date": "2026-02-09T15:50:00.000000"
    },
    {
      "id": 15,
      "situation": "Built agent teams capability but only used it once during the sprint that validated it",
      "learning": "Default to parallel execution. Before starting any task group, ask: are these independent? If yes, spawn teammates. The lead should coordinate and debug, not do grunt work. Lesson #3 (opt-in tools forgotten) applies to the agent itself, not just humans.",
      "date": "2026-02-09T16:00:00.000000"
    },
    {
      "id": 16,
      "situation": "Vitest tests failed after adding new mocks because afterEach used vi.resetAllMocks() which wipes factory-defined mock implementations",
      "learning": "Never use vi.resetAllMocks() in afterEach — it destroys factory-level mock implementations (vi.mock factories). Use vi.clearAllMocks() in beforeEach instead, and re-establish mock return values there. resetAllMocks is only safe if ALL mocks are set up per-test.",
      "date": "2026-02-11T14:00:00.000000"
    },
    {
      "id": 17,
      "situation": "[pattern] Phase 66.3",
      "learning": "Zero completion rate combined with zero documented blockers indicates systemic tracking failure, not execution failure. Use the '0/0 pattern' as a trigger for immediate sprint health assessment—it reveals the team isn't actively engaging with visibility mechanisms.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 18,
      "situation": "[lesson] Phase 66.3",
      "learning": "Retrospective action items consistently fail when treated like regular sprint work without additional structure. Allocate explicit capacity (max 1-3 items per sprint) with assigned owners and mid-sprint review gates, or defer items with documented reasoning rather than leaving them to languish.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 19,
      "situation": "[lesson] Phase 66.3",
      "learning": "Vague work item titles (e.g., 'Self-Improvement') correlate directly with zero progress. Require all retro items to include measurable acceptance criteria before sprint commitment. If completion cannot be verified, the item cannot be committed to.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 20,
      "situation": "[lesson] Phase 66.3",
      "learning": "Placeholder estimates (unrealistically low figures used as defaults) create false planning confidence and obscure real scope issues. Flag items as 'requires estimation' rather than accepting token numbers that no one believes, which mislead capacity planning.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 21,
      "situation": "[decision] Phase 66.3",
      "learning": "Reserve explicit calendar capacity or percentage-based allocation (e.g., 20% of sprint) for process improvement work. Treating improvement as gap-filler between reactive work guarantees deprioritization. Without dedicated time blocks, improvement work will perpetually fail.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 22,
      "situation": "[lesson] Phase 66.3",
      "learning": "Absurdly optimistic estimates signal avoidance behavior rather than misplaced confidence. When estimates are unrealistically low, the team may be signaling unwillingness to commit while appearing to consent. Treat obviously unrealistic estimates as a discussion trigger about team commitment and priority alignment.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 23,
      "situation": "[pattern] Phase 66.3",
      "learning": "Silent sprints (zero progress updates, no blockers documented, no decisions recorded) indicate the team has psychologically checked out of the sprint process. This late-stage process debt suggests the team doesn't trust the mechanism serves them. Diagnose underlying trust before attempting process fixes.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 24,
      "situation": "[pattern] Phase 66.3",
      "learning": "Data quality itself is a leading indicator of process health. Complete absence of tracking artifacts (time logs, blocker documentation, decision records) reveals systemic disengagement. Track 'process health score' based on data completeness, not just work completion.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 25,
      "situation": "[blocker] Phase 66.3",
      "learning": "Lack of visible technical decisions during operational improvement work often indicates non-technical blockers upstream (unclear ownership, competing priorities, role ambiguity). When expected decision-making is absent, investigate organizational and permission-related obstacles before diagnosing technical paralysis.",
      "date": "2026-02-12T14:25:41.940Z"
    },
    {
      "id": 26,
      "situation": "[lesson] Phase 66.3",
      "learning": "Mid-sprint checkpoint calls address symptoms, not root causes. Sprint planning failures—vague items accepted without challenge, unrealistic estimates unchallenged—cannot be recovered in-flight. Invest in pre-flight commitment validation (clear definitions, realistic estimates, capacity confirmation) instead of expensive mid-sprint rescues.",
      "date": "2026-02-12T14:25:41.940Z"
    }
  ]
}